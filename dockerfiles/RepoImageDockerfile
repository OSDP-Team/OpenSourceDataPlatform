FROM bitnami/spark:3.5.1

USER root

RUN apt-get update && apt-get install -y git

# PostgreSQL JDBC-Treiber hinzuf√ºgen (Version ggf. anpassen)
ADD https://jdbc.postgresql.org/download/postgresql-42.7.3.jar /opt/spark/jars/


WORKDIR /stackable/spark/jobs


COPY scripts/*.py .

# Optional: requirements.txt installieren, falls vorhanden
# COPY requirements.txt .
# RUN pip install --no-cache-dir -r requirements.txt

CMD ["sleep", "infinity"]
